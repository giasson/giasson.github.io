!function(e,t){"function"==typeof define&&define.amd?define(["knockout"],t):t(e.ko)}(this,function(e){function t(t,n){var i=h(n.$switchValueAccessor());return"boolean"==typeof i?t?i:!i:"boolean"==typeof t?t:t instanceof Array?-1!==e.utils.arrayIndexOf(t,i):t==i}function n(e,n){return!t(e,n)}function i(e){return function(){return e}}function r(r,o,a){var s=o?n:t;return r||(r="if"),a||(a=i),{flags:f[r].flags,init:function(t,n,i,o,d){if(!d.$switchSkipNextArray)throw Error("case binding must only be used with a switch binding");if(d.$switchIndex!==l)throw Error("case binding cannot be nested");return d.$switchIndex=d.$switchSkipNextArray.push(e.observable(!1))-1,d.$caseValue=e.observable(),e.computed(function(){var e,t,i,r=d.$switchIndex,o=r===d.$switchSkipNextArray.length-1;if(r&&d.$switchSkipNextArray[r-1]())e=!1,t=!0;else{var a=h(n());a===d.$else?(e=d.$switchDefault()||o,t=!1):i=t=e=s(a,d)}d.$caseValue(e),d.$switchSkipNextArray[r](t),i?d.$switchDefault(!1):!t&&o&&d.$switchDefault(!0)},null,{disposeWhenNodeIsRemoved:t}),f[r].init?f[r].init(t,a(d.$caseValue),i,o,d):void 0},update:function(e,t,n,i,o){return f[r].update?f[r].update(e,a(o.$caseValue),n,i,o):void 0}}}function o(e,t,n){return d.allowedBindings[e]&&(d.allowedBindings[n]=!0),r(e,"casenot"===t)}function a(e,t,n){return o(t,e,n)}function s(e,t){f[e]=r("if",t),u[e]=!1,d.allowedBindings[e]=!0,f[e].makeSubkeyHandler=a,f[e].getNamespacedHandler=o}var l;if(!e.virtualElements)throw Error("Switch-case requires at least Knockout 2.1");var d=e.virtualElements,c=e.bindingFlags||{},u=e.bindingRewriteValidators||e.jsonExpressionRewriting.bindingRewriteValidators,h=e.utils.unwrapObservable,f=e.bindingHandlers,p={};f["switch"]={flags:c.contentBind|c.canUseVirtual|c.noValue,init:function(t,n,i,r,o){var a=[],s={$switchSkipNextArray:a,$switchValueAccessor:n,$switchDefault:e.observable(!0),$default:p,$else:p},c=[];e.computed(function(){var t=h(n());s.$value=t,e.utils.arrayForEach(c,function(e){e.$value=t})},null,{disposeWhenNodeIsRemoved:t});for(var u,f=d.firstChild(t);u=f;)switch(f=d.nextSibling(u),u.nodeType){case 1:case 8:var g=o.extend(s);g.$switchIndex=l,e.applyBindings(g,u),g.$switchIndex!==l&&c.push(g)}return{controlsDescendantBindings:!0}},preprocess:function(e){return e||"true"}},u["switch"]=!1,d.allowedBindings["switch"]=!0,s("case"),s("casenot",!0),f["case.visible"]=r("visible"),f["casenot.visible"]=r("visible",!0),f["switch"].makeCaseHandler=r});